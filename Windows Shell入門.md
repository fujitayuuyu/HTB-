# 1 CMD(MS DOS shell)
* cmd.exeのパス：`C:\Windows\System32\cmd.exe`
* helpコマンド：help %cmd% , コマンド /?  (基本、マニュアルを確認すればなんでも行けるからまずマニュアルみろおおお)
* 使えるショートカット
  * F5 - F5を複数回押すと、前のコマンドを循環させることができる。
  * F7 - 直前のコマンドの対話型リストを開きます。
  * F9 - 指定された番号に基づいてプロンプトにコマンドを入力する。 この番号は、履歴の中のコマンドの位置に対応する。
  * page up -	セッション履歴の最初のコマンドをプロンプトに送る。
  * page down -	ヒストリの最後のコマンドをプロンプトに表示する。

## (1) ナビゲーション
* dir  - ディレクトリ内のファイルを一覧表示
* cd   - 移動(引数なしだと、カレントディレクトリのパスを教えてくれるよ)
* tree - ファイルシステムの内容の一覧表示(設定、プロジェクト ファイルやフォルダー、さらには究極の目標であるパスワードを含むファイルやフォルダーなど、必要な重要な情報を含むファイルやフォルダーを検索するときに非常に便利)
> ```
> tree /F (指定されたパス内のすべてのファイルとフォルダーの一覧を取得する ⇒ 
> ```

### ① 興味深いファイル
侵入後の権限昇格のために使えるディレクトリだよ
| 名前                     | 場所                           | 説明                                                                                           |
|------------------------|------------------------------|------------------------------------------------------------------------------------------------|
| %SYSTEMROOT%\Temp     | C:\Windows\Temp              | グローバルなディレクトリで、全ユーザーがアクセスできる一時的なシステムファイルを含む。全ユーザーにフルアクセス権が与えられている。低特権ユーザーがファイルをドロップするのに便利。  |
| %TEMP%                 | C:\Users\<user>\AppData\Local\Temp | ユーザー専用の一時ファイルを含むローカルディレクトリ。フォルダの所有者にフルオーナーシップが与えられる。ローカルまたはドメインに参加しているユーザーアカウントを攻撃者が取得した際に便利。  |
| %PUBLIC%               | C:\Users\Public              | インタラクティブログインアカウントがファイルやサブフォルダに対してフルアクセスできる公共アクセス可能なディレクトリ。監視が少ないため、グローバルWindows Tempディレクトリの代替として利用可能。 |
| %ProgramFiles%         | C:\Program Files             | システムにインストールされているすべての64ビットアプリケーションが含まれるフォルダ。ターゲットシステムにインストールされているアプリケーションを確認するのに便利。                  |
| %ProgramFiles(x86)%    | C:\Program Files (x86)      | システムにインストールされているすべての32ビットアプリケーションが含まれるフォルダ。ターゲットシステムにインストールされているアプリケーションを確認するのに便利。                   |
| %HOME%                 | C:\Users\%user%             | ユーザが作業しているところなので、いろいろ置かれている。認証情報等のメモや、そのほか、内部に関する情報が含まれる可能性がある。 |

## (2) ディレクトリとファイル操作
### ① ディレクトリの作成、削除
* mkdir - ディレクトリ作成
* rd    - ディレクトリ削除(/sオプションでディレクトリの中身も含めて削除できる)

### ② ファイルの表示
* more - ファイルの中身を見れるよ。linuxのlessみたいな感じ。「|」パイプを利用すれば、コマンド実行の結果を見るのも楽だよ(/Sオプションを利用すると結構見やすい)
> ```
> ◇ パイプを利用したやつ
> systeminfo | more  
> ```
* type - シンプルにファイルの中身を一気に表示するよ。「>>」のリダイレクションを利用すれば、ファイルのテキストをまとめるのが楽だよ。
> ```
> ◇ リダイレクションを利用してファイルのテキストをほかのファイルにまとめる
> type passwords.txt >> secrets.txt
> ```

### ③ ファイルの作成、削除
* echo - 標準出力を出してくれるやつ(こいつで、リダイレクションしてファイル作れる)
* del,erase - ファイル削除、二つあるのは、互換性を保つためあるだけよ

### ④ ファイル、ディレクトリの移動、コピー
* move - ファイル、ディレクトリの移動
* copy - ファイル、ディレクトリのコピー
* xcopy　- copyの拡張(copyより細かいコピーができるよ。ディレクトリごとコピーが/E、属性情報を変えないとかなら/K)
* robocopy - xcopyの拡張
